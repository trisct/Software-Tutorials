This is the example from Chapter 7 of _Computer Systems: A Programmer's Perspective_ by Bryant.